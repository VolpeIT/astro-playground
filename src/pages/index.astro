---
import Layout from '../layouts/Layout.astro';
import { AtomDisplay, Atom, AtomDebounce } from '../components';

import { aResult, type Result } from "@volpe/utils"
import axios, { type AxiosResponse } from 'axios';
import type { RandomUserApi} from "../env.d.ts"



// const [err, res] = (await axios.get[aResult]("https://randomuser.me/api/")) as Result<AxiosResponse<RandomUserApi>>
//
// if (err) throw new Error("tal")
// if (!res) throw new Error("tal")


  const personas = [
    {
      nombre: "Carlos",
      edad: 30,
      esEmpleado: true,
      direccion: {
        calle: "Calle Falsa 123",
        ciudad: "Ciudad Inventada",
        pais: "País Imaginario",
      },
      hobbies: ["fútbol", "videojuegos", "leer"],
      redesSociales: [
        { plataforma: "Twitter", username: "@carlos123" },
        { plataforma: "Instagram", username: "@carlos_insta" },
      ],
      favoritos: {
        comida: "pizza",
        color: "azul",
        numeros: [7, 14, 21],
      },
    },
    {
      nombre: "Ana",
      edad: 25,
      esEmpleado: false,
      direccion: {
        calle: "Avenida Principal 456",
        ciudad: "Pueblo Alegre",
        pais: "País Soñado",
      },
      hobbies: ["pintura", "yoga", "viajar"],
      redesSociales: [
        { plataforma: "Facebook", username: "ana_facebook" },
        { plataforma: "LinkedIn", username: "ana.prof" },
      ],
      favoritos: {
        comida: "sushi",
        color: "verde",
        numeros: [3, 6, 9],
      },
    },
    {
      nombre: "Luis",
      edad: 40,
      esEmpleado: true,
      direccion: {
        calle: "Camino de la Niebla 789",
        ciudad: "Villa Misteriosa",
        pais: "País Fantasía",
      },
      hobbies: ["ciclismo", "ajedrez", "fotografía"],
      redesSociales: [
        { plataforma: "Twitter", username: "@luis40" },
        { plataforma: "TikTok", username: "@luis_fun" },
      ],
      favoritos: {
        comida: "tacos",
        color: "rojo",
        numeros: [1, 5, 11],
      },
    },
  ];

---

<Layout title="Welcome to Astro.">
  <AtomDebounce client:only="react"/>
  <AtomDisplay client:only="react" personas={personas}/>
  
  <!-- {res.data.results.at(0)?.name.first} -->
</Layout>
